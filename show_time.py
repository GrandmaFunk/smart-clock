import time
import sys
from colorsys import hsv_to_rgb
from PIL import Image, ImageDraw, ImageFont
from unicornhatmini import UnicornHATMini
from datetime import datetime

numbers = {
    '0': [[0, 0], [1, 0], [2, 0],
          [0, 1],         [2, 1],
          [0, 2],         [2, 2],
          [0, 3],         [2, 3],
          [0, 4],         [2, 4],
          [0, 5],         [2, 5],
          [0, 6], [1, 6], [2, 6]],
    '1': [        [1, 0],
          [0, 1], [1, 1]        ,
                  [1, 2],
                  [1, 3],
                  [1, 4],
                  [1, 5],
          [0, 6], [1, 6], [2, 6]],
    '2': [        [1,0],
            [0,1],      [2,1],
                        [2,2],
                  [1,3],
            [0,4],
            [0,5],
            [0,6], [1,6],[2,6]],
    '3':[[0,0], [1,0], [2,0],
                       [2,1],
                       [2,2],
         [0,3], [1,3], [2,3],
                       [2,4],
                       [2,5],
        [0,6],[1,6], [2,6]],
    '4': [[0,0],        [2,0],
          [0,1],        [2,1],
          [0,2],        [2,2],
          [0,3], [1,3], [2,3],
                        [2,4],
                        [2,5],
                        [2,6]],

    '5': [[0,0], [1,0], [2,0],
[0,1],        
[0,2],
[0,3], [1,3], [2,3],
              [2,4],
[0,5],        [2,5],
[0,6], [1,6], [2,6]
],    '6': [
[0,0], [1, 0], [2, 0],
[0,1],
[0,2],
[0,3], [1,3], [2,3],
[0,4],        [2,4],
[0,5],        [2,5],
[0,6], [1,6], [2,6]],
    '7': [[0, 0], [1, 0], [2, 0],
                          [2, 1],
                          [2, 2],
                  [1, 3],
        [0, 4],
        [0, 5],
        [0,6]],
    '8': [[0, 0], [1, 0], [2, 0],
          [0, 1],         [2, 1],
          [0, 2],         [2, 2],
          [0, 3], [1, 3], [2, 3],
          [0, 4],         [2, 4],
          [0, 5],         [2, 5],
          [0, 6], [1, 6], [2, 6]],
    '9': [[0, 0], [1, 0], [2, 0],
          [0, 1],         [2, 1],
          [0, 2],         [2, 2],
          [0, 3], [1, 3], [2, 3],
                          [2, 4],
                          [2, 5],
                          [2, 6]],
    ':': [[1, 2],
    [1, 4]],
    '.': [[1, 6]]
}

clock = UnicornHATMini()

# Rotate text upside down
clock.set_rotation(180)

# Set brightness
clock.set_brightness(0.1)

current_time = datetime.now().strftime('%I:%M')
for val in current_time:
    for pixel in numbers[val]:
        x = pixel[0]
        y = pixel[1]
        clock.set_pixel(x,y, 255,0,0)
    clock.show()
    time.sleep(1)
    clock.clear()
